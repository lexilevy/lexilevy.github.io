<?php
if(isset($_POST['email'])) {
 
    $email_to = "lexi@lsquaredsocial.com";
    $email_subject = "*** New Form Submisison";
 
    $name = $_POST['name']; 
    $email_from = $_POST['email']; 
    $message = $_POST['message'];
    $website = $_POST['website'];
    $budget = $_POST['budget']; 

    $email_exp = '/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/';
 
    $email_message = "Form details below.\n\n";
 
     
    function clean_string($string) {
      $bad = array("content-type","bcc:","to:","cc:","href");
      return str_replace($bad,"",$string);
    }
 
    $email_message .= "Name: ".clean_string($name)."\n";
    $email_message .= "Email: ".clean_string($email_from)."\n";
    $email_message .= "Message: ".clean_string($message)."\n";
    $email_message .= "Website: ".clean_string($website)."\n";
    $email_message .= "Budget: ".clean_string($budget)."\n";
 
// create email headers
$headers = 'From: '.$email_from."\r\n".
'Reply-To: '.$email_from."\r\n" .
'X-Mailer: PHP/' . phpversion();
@mail($email_to, $email_subject, $email_message, $headers);  
?>
 
<!-- include your own success html here -->
 
Thank you for contacting us. We will be in touch with you very soon.
 
<?php
 
}
?>
<link rel="import" href="../shared-styles/page-shared-styles.html">
<dom-module id="ll-contact">
  <template>
    <style include="page-shared-styles"></style>
    <style is="custom-style">
      :host {
        
      }

      .title{
        width: 75%;
        margin-left: 12.5%;
        text-align: center;
        padding: 2vh 0;
        font-family: IBMLight;
        font-size: .95em;
        color: var(--ll-black);
        background: var(--ll-pink);
        margin-top: 2.5vh;
      }

      input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {
        color: var(--ll-grey);
        font-size: 0.875em;
      }

      input:focus::-webkit-input-placeholder, textarea:focus::-webkit-input-placeholder {
        color: var(--ll-grey);
      }

      input::-moz-placeholder, textarea::-moz-placeholder {
        color: var(--ll-grey);
        font-size: 0.875em;
      }

      input:focus::-moz-placeholder, textarea:focus::-moz-placeholder {
        color: var(--ll-grey);
      }

      input::placeholder, textarea::placeholder {
        color: var(--ll-grey);
        font-size: 0.875em;
      }

      input:focus::placeholder, textarea::focus:placeholder {
        color: var(--ll-grey);
      }

      input::-ms-placeholder, textarea::-ms-placeholder {
        color: var(--ll-grey);
        font-size: 0.875em;
      }

      input:focus::-ms-placeholder, textarea:focus::-ms-placeholder {
        color: var(--ll-grey);
      }

      /* on hover placeholder */

      input:hover::-webkit-input-placeholder, textarea:hover::-webkit-input-placeholder {
        color: var(--ll-black);
        font-size: 0.875em;
      }

      input:hover:focus::-webkit-input-placeholder, textarea:hover:focus::-webkit-input-placeholder {
        color: var(--ll-grey);
      }

      input:hover::-moz-placeholder, textarea:hover::-moz-placeholder {
        color: var(--ll-black);
        font-size: 0.875em;
      }

      input:hover:focus::-moz-placeholder, textarea:hover:focus::-moz-placeholder {
        color: var(--ll-grey);
      }

      input:hover::placeholder, textarea:hover::placeholder {
        color: var(--ll-black);
        font-size: 0.875em;
      }

      input:hover:focus::placeholder, textarea:hover:focus::placeholder {
        color: var(--ll-grey);
      }

      input:hover::placeholder, textarea:hover::placeholder {
        color: var(--ll-black);
        font-size: 0.875em;
      }

      input:hover:focus::-ms-placeholder, textarea:hover::focus:-ms-placeholder {
        color: var(--ll-grey);
      }

      header {
        position: relative;
        margin: 100px 0 25px 0;
        font-size: 2.3em;
        text-align: center;
        letter-spacing: 7px;
      }

      #form {
        margin-top: 2vh;
      }

      input {
        font-family: IBMBold;
        font-size: 0.875em;
        width: calc(75% - 2vw);
        height: 7.5vh;
        padding: 1vh 1vw;
        margin-left: 12.5%;

        background: transparent;
        outline: none;
        color: #726659;
        
        border: solid 1px var(--ll-black);
        border-bottom: none;
        
        transition: all 0.3s ease-in-out;
        -webkit-transition: all 0.3s ease-in-out;
        -moz-transition: all 0.3s ease-in-out;
        -ms-transition: all 0.3s ease-in-out;
      }

      input:hover {
        background: var(--ll-pink);
        color: var(--ll-black);
      }

      textarea {
        font-family: IBMBold;
        font-size: 0.875em;
        width: calc(75% - 2vw);
        height: 15vh;
        padding: 2.5vh 1vw;
        margin-left: 12.5%;
        
        
        background: transparent;
        outline: none;
        
        color: #726659;
        font-family: IBMBold;
        font-size: 0.875em;
        
        border: solid 1px var(--ll-black);
        
        transition: all 0.3s ease-in-out;
        -webkit-transition: all 0.3s ease-in-out;
        -moz-transition: all 0.3s ease-in-out;
        -ms-transition: all 0.3s ease-in-out;

        resize: none;
      }

      textarea:hover {
        background: var(--ll-pink);
        color: var(--ll-black);
      }

      #submit {
        width: calc(75% + 1px);
        margin-left: 12.5%;
        margin-top: -5px;
        font-family: IBMBold;
        font-size: 0.875em;
        color: var(--ll-black);
        outline: none;
        cursor: pointer;
        border: solid 1px var(--ll-black);
        border-top: none;
      }

      #submit:hover {
        color: var(--ll-black);
      }

      input.half{
        width: calc((75%/2) - 2vw);
        float: left;
        display: inline-block;
      }

      input.right{
        margin-left: -1px !important;
        border-left: none;
      }

      input.right:hover{
        margin-left: 0px !important;
        width: calc((75%/2) - 2vw - 1px);
      }

      @media screen and (max-width : 600px){
          input.half{
            width: calc(75% - 2vw);
            display: block;
          }
          input.right{
            border-left: solid 1px var(--ll-black);
            margin-left: 12.5% !important;
          }
          .title{
            font-size: .75em;
          }
      }

      
    </style>
    
    <div class="title">
      Please give us insight on your brand and the services you're interested in. 
      <br>
      Once you've filled out the form below, L Squared Social will contact you shortly.
    </div>

    <form id="form" class="topBefore" method="post" name="myemailform" action=" ">
    
      <input name="name" id="name" type="text" placeholder="Name">
      <input name="email" id="email" type="text" placeholder="E-Mail">
      <div>
        <input name="website" class="half" id="email" type="text" placeholder="Company Website">
        <input name="budget" class="half right" id="email" type="text" placeholder="Annual Marketing Budget">  
      </div>
      

      <textarea name="message" id="message" type="text" placeholder="Message"></textarea>
      <input id="submit" type="submit" value="Submit">
      
    </form>

    <ll-footer
    name="ll-footer">
    </ll-footer>

    

  </template>

  <script>
    class LlTContact extends Polymer.Element {
      
      static get is() { return 'll-contact'; }
      
      static get properties() {
        return {
          title: {
            type: String
          },

        };
      }

      ready(){    
        var self = this;  
        
        super.ready();

        this._addSubscribers();

      }

      connectedCallback(){
        super.connectedCallback();
        console.log(this.getAttribute("name") + " connected");
      }

      _addSubscribers(){
        var self = this;
        // $.subscribe("setLoadingText", function(event, data) {
        //     self.loadingText = data;
        // });

      }

      _nextButtonTapped(){
        this.$.hiddenbutton.click();
      }

      _prevButtonTapped(){
        this.$.hiddenbuttonprev.click();
      }
      
     
    }




    window.customElements.define(LlTContact.is, LlTContact);
  </script>
</dom-module>
