<!DOCTYPE html><html><head><meta charset="UTF-8"><title>test for the waterfall effect</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><script src="../../node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script><script src="../../node_modules/wct-browser-legacy/browser.js"></script><style>body{margin:0;padding:0;height:1000vh;}x-container{position:fixed;top:0;left:0;right:0;height:200px;}</style></head><body><test-fixture id="testHeader"><template><x-container effects="waterfall"></x-container></template></test-fixture><script>define(["../app-scroll-effects.js","./x-container.js"],function(_appScrollEffects,_xContainer){"use strict";suite("basic features",function(){var container;setup(function(){container=fixture("testHeader")});test("show waterfall when needed",function(done){flush(function(){container._updateScrollState(0);assert.isFalse(container.hasAttribute("shadow"));container.isOnScreen=function(){return!0};container._updateScrollState(0);assert.isFalse(container.hasAttribute("shadow"));container.isContentBelow=function(){return!0};container._updateScrollState(0);assert.isTrue(container.hasAttribute("shadow"));container.isOnScreen=function(){return!1};container._updateScrollState(0);assert.isFalse(container.hasAttribute("shadow"));container.isContentBelow=function(){return!1};container._updateScrollState(0);assert.isFalse(container.hasAttribute("shadow"));done()})})})});</script></body></html>