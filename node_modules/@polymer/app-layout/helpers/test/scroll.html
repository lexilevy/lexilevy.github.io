<!DOCTYPE html><html><head><meta charset="UTF-8"><title>scroll</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><script src="../../node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script><script src="../../node_modules/wct-browser-legacy/browser.js"></script><style>#region{height:500px;overflow:hidden;}.content{height:10000px;width:10000px;}</style></head><body><div id="region"><div class="content"><app-header></app-header></div></div><div class="content"></div><script>define(["../../app-header/app-header.js","../../../polymer/polymer-legacy.js","../helpers.js"],function(_appHeader,_polymerLegacy,_helpers){"use strict";suite("Polymer.AppLayout.scroll",function(){test("document scrolling",function(done){var x=500,y=500,region=document.querySelector("#region");(0,_helpers.scroll)({left:x,top:y});_polymerLegacy.Base.async(function(){assert.equal(window.pageXOffset,x,"document scrollLeft");assert.equal(window.pageYOffset,y,"document scrollTop");done()},100)});test("scrolling region",function(done){var x=500,y=500,region=document.querySelector("#region");(0,_helpers.scroll)({left:x,top:y,target:region});_polymerLegacy.Base.async(function(){assert.equal(region.scrollLeft,x,"region scrollLeft");assert.equal(region.scrollTop,y,"region scrollTop");done()},100)});test("behavior: silent",function(done){var header=document.querySelector("app-header");assert.isFalse(header.disabled);(0,_helpers.scroll)({left:100,top:200,behavior:"silent"});assert.isTrue(header.hasAttribute("silent-scroll"));requestAnimationFrame(function(){assert.isFalse(header.hasAttribute("silent-scroll"));done()})});test("behavior: smooth",function(done){var scrollSpy=sinon.spy();window.addEventListener("scroll",scrollSpy);(0,_helpers.scroll)({top:0});(0,_helpers.scroll)({top:500,behavior:"smooth"});window.setTimeout(function(){assert.isAbove(scrollSpy.callCount,1,"scroll top should be fired multiple times");done()},300)});test("smooth scrolling to the top",function(done){(0,_helpers.scroll)({top:1e3});(0,_helpers.scroll)({top:0,behavior:"smooth"});var timer;window.addEventListener("scroll",function(){clearInterval(timer);timer=setTimeout(function(){assert.equal(window.pageYOffset,0,"document scrollTop");done()},200)})})})});</script></body></html>